import time 
import re
from colorama import Fore, Style

def validacao_email(email):
      return re.match(r"[^@]+@[^@]+\.[^@]+", email)

tentativas = 0

while tentativas <= 3:
    if  tentativas >= 3:
          print(Fore.RED + "Número de tentativas excedido, tente novamente após a contagem:" + Style.RESET_ALL)
          for i in range (5, -1, -1):
                print(Fore.LIGHTYELLOW_EX + f"Reiniciando acesso em: {i}" + Style.RESET_ALL)
                time.sleep(1)
                tentativas = 0
                continue

    email = input('Digite seu email: ').lower()
    senha = input('Digite sua senha: ')
    senha2 = input('Confirme sua senha: ')
    
    if senha != senha2:
            print(Fore.LIGHTRED_EX + 'Sua senha não é compatível com a senha que você digitou anteriormente.' + Style.RESET_ALL)
            tentativas += 1
    elif len(senha) < 8 and senha != senha2:
           print(Fore.RED + "Senha deve ter pelo menos 8 caracteres." + Style.RESET_ALL)
           tentativas += 1
    elif not (any(grande.isupper() for grande in senha) 
              and any(pequeno.islower() for pequeno in senha) 
              and any(digito.isdigit() for digito in senha)
              and any(simbolo in senha for simbolo in "!@#$%^&*()")):
            tentativas += 1
            print(Fore.RED + "Senha deve conter pelo menos uma letra maiúscula, uma letra minúscula, um dígito e um caractere especial." + Style.RESET_ALL)

    else:
          print(Fore.GREEN + "Seu login e senha foram confirmados!" + Style.RESET_ALL)
